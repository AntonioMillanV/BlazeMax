@using veXMAX.Shared.Attributes
@using veXMAX.Resources

@inject IStringLocalizer<VXModelLabels> L

@implements IVXComponent

<DxFormLayoutItem Caption="@Caption" 
				  ColSpanMd="12"
				  BeginRow="@LayoutFieldAttribute.BeginRow"
				  CssClass="@(LayoutFieldAttribute.ColSpan > 0 ? $"col-xxl-{LayoutFieldAttribute.ColSpan}" : string.Empty)"
				  >
	<DxSpinEdit Value="@Value" 
				DisplayFormat="@DisplayFormat"
				Enabled="@Enabled"
				ReadOnly="@ReadOnly"
				NullText="@PlaceHolder"
				ClearButtonDisplayMode="@ClearButtonDisplayMode" 
				Increment="@Increment"  
				ValueChanged="@ValueChanged"
				/>
</DxFormLayoutItem>

@code {
	[Parameter]
	public object Value { get; set; }
	
	[Parameter]
	public object Increment { get; set; }

	[Parameter]
	public string DisplayFormat { get; set; }

	[Parameter]
	public EventCallback<object> ValueChanged { get; set; }

	[Parameter]
	public bool Enabled { get; set; }

	[Parameter]
	public bool ReadOnly { get; set; }

	[Parameter]
	public string PlaceHolder { get; set; }

	[Parameter]
	public DataEditorClearButtonDisplayMode ClearButtonDisplayMode { get; set; }

	private string Caption
	{
		get
		{
			return MetaColumnAttributes.Description != null ? L[MetaColumnAttributes.Description] : LayoutFieldAttribute.Field;
		}
	}

	[Parameter]
	public VXLayOutFieldAttribute LayoutFieldAttribute { get; set; }

	[Parameter]
	public VXMetaColumnAttributes MetaColumnAttributes { get; set; }
}